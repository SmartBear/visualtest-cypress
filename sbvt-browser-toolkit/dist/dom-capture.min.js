(()=>{try{let e={error:false,viewport:{left:null,top:null,width:null,height:null},fullpage:{width:null,height:null},devicePixelRatio:null,dom:[]};let t={elements:0,objects:0};let r=["script","param"];let o=["noscript","option"];let n=e.dom;let i=e=>{if(e.nodeType==Node.ELEMENT_NODE)if(r.indexOf(e.tagName.toLowerCase())>-1)return NodeFilter.FILTER_REJECT;else if(o.indexOf(e.tagName.toLowerCase())>-1)return NodeFilter.FILTER_SKIP;else return NodeFilter.FILTER_ACCEPT;else if(e.nodeType==Node.TEXT_NODE)if(e.textContent.trim())return NodeFilter.FILTER_ACCEPT};let l=document.createTreeWalker(document.documentElement,NodeFilter.SHOW_ELEMENT+NodeFilter.SHOW_TEXT,i,false);let d=e=>{try{attributes=e.getAttributeNames();return attributes}catch(e){return"failed"}};let u=(e,t)=>{try{return e.getAttribute(t)}catch(e){return"failed"}};let c=(e,t)=>{try{if(window.getComputedStyle)return document.defaultView.getComputedStyle(e,null).getPropertyValue(t);else if(e.currentStyle)return e.currentStyle[t];else return""}catch(e){return"failed"}};let a=e=>{var t=e.getBoundingClientRect(),r=document.body,o=document.documentElement,n=window.pageYOffset||o.scrollTop||r.scrollTop,i=window.pageXOffset||o.scrollLeft||r.scrollLeft,l=o.clientTop||r.clientTop||0,d=o.clientLeft||r.clientLeft||0,u=t.top+n-l,c=t.left+i-d,a=t.right-t.left,s=t.bottom-t.top;return{top:Math.round(u),left:Math.round(c),width:Math.round(a),height:Math.round(s)}};let s=e=>{String.prototype.correctWhiteSpace=function(){return this.replace(/\s+/g," ")};return"string"==typeof e?e.correctWhiteSpace().trim():""};let h=()=>{var e={left:window.scrollX,top:window.scrollY,width:window.innerWidth,height:window.innerHeight};return e};let f=()=>({width:Math.max(window.document.body.offsetWidth,window.document.body.scrollWidth,window.document.documentElement.offsetWidth,window.document.documentElement.scrollWidth),height:Math.max(window.document.body.offsetHeight,window.document.body.scrollHeight,window.document.documentElement.offsetHeight,window.document.documentElement.scrollHeight)});let m=()=>{t.elements++;let e=n;let r=null;if(l.currentNode.nodeType==Node.ELEMENT_NODE){var o=a(l.currentNode);var i={top:o.top,left:o.left,width:o.width,height:o.height};var h={};var f={};var g=d(l.currentNode);g.forEach((e=>{f[e]=u(l.currentNode,e)}));var w=["background-repeat","background-origin","background-position","background-color","background-image","background-size","border-width","border-color","border-style","color","display","font-size","font-weight","line-height","margin","opacity","overflow","padding","visibility","text-align","position","border-radius","z-index"];w.forEach((e=>{h[e]=c(l.currentNode,e)}));r=e.push({domId:t.elements,tagname:s(l.currentNode.tagName),box:i,styles:h,attrs:f,children:[]})}else if(l.currentNode.nodeType==Node.TEXT_NODE)r=e.push({domId:t.elements,tagname:"text",value:l.currentNode.textContent.trim()});if(l.firstChild()){n=e[r-1].children;m()}if(l.nextSibling()){n=e;m()}else{l.parentNode();return}};e.viewport=h();e.fullpage=f();e.devicePixelRatio=window.devicePixelRatio;m();error=0==e.dom.length;return JSON.stringify(e)}catch(e){void 0;return JSON.stringify({error:true,message:e.message})}})();