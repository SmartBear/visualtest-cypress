(()=>{try{let e={error:false,viewport:{left:null,top:null,width:null,height:null},fullpage:{width:null,height:null},devicePixelRatio:null,dom:[]};let t={elements:0,objects:0};let o=["script","param"];let n=["noscript","option"];let r=e.dom;let i=e=>{if(e.nodeType==Node.ELEMENT_NODE)if(o.indexOf(e.tagName.toLowerCase())>-1)return NodeFilter.FILTER_REJECT;else if(n.indexOf(e.tagName.toLowerCase())>-1)return NodeFilter.FILTER_SKIP;else return NodeFilter.FILTER_ACCEPT;else if(e.nodeType==Node.TEXT_NODE)if(e.textContent.trim())return NodeFilter.FILTER_ACCEPT};let d=document.createTreeWalker(document.documentElement,NodeFilter.SHOW_ELEMENT+NodeFilter.SHOW_TEXT,i,false);let l=e=>{try{attributes=e.getAttributeNames();return attributes}catch(e){return"failed"}};let u=(e,t)=>{try{return e.getAttribute(t)}catch(e){return"failed"}};let c=(e,t)=>{try{if(window.getComputedStyle)return document.defaultView.getComputedStyle(e,null).getPropertyValue(t);else if(e.currentStyle)return e.currentStyle[t];else return""}catch(e){return"failed"}};let a=e=>{var t=e.getBoundingClientRect(),o=document.body,n=document.documentElement,r=window.pageYOffset||n.scrollTop||o.scrollTop,i=window.pageXOffset||n.scrollLeft||o.scrollLeft,d=n.clientTop||o.clientTop||0,l=n.clientLeft||o.clientLeft||0,u=t.top+r-d,c=t.left+i-l,a=t.right-t.left,m=t.bottom-t.top;return{top:Math.round(u),left:Math.round(c),width:Math.round(a),height:Math.round(m)}};let m=e=>{String.prototype.correctWhiteSpace=function(){return this.replace(/\s+/g," ")};return"string"==typeof e?e.correctWhiteSpace().trim():""};let h=()=>{var e={left:window.scrollX,top:window.scrollY,width:-1,height:-1};if(void 0!=window.document.documentElement&&null!=window.document.documentElement){e.width=window.document.documentElement.clientWidth;e.height=window.document.documentElement.clientHeight}else if(void 0!=window.document.body&&null!=window.document.body){e.width=window.document.body.clientWidth;e.height=window.document.body.clientHeight}return e};let s=()=>({width:Math.max(window.document.body.offsetWidth,window.document.body.scrollWidth,window.document.documentElement.offsetWidth,window.document.documentElement.scrollWidth),height:Math.max(window.document.body.offsetHeight,window.document.body.scrollHeight,window.document.documentElement.offsetHeight,window.document.documentElement.scrollHeight)});let w=()=>{t.elements++;let e=r;let o=null;if(d.currentNode.nodeType==Node.ELEMENT_NODE){var n=a(d.currentNode);var i={top:n.top,left:n.left,width:n.width,height:n.height};var h={};var s={};var f=l(d.currentNode);f.forEach((e=>{s[e]=u(d.currentNode,e)}));var g=["background-repeat","background-origin","background-position","background-color","background-image","background-size","border-width","border-color","border-style","color","display","font-size","font-weight","line-height","margin","opacity","overflow","padding","visibility","text-align","position","border-radius","z-index"];g.forEach((e=>{h[e]=c(d.currentNode,e)}));o=e.push({domId:t.elements,tagname:m(d.currentNode.tagName),box:i,styles:h,attrs:s,children:[]})}else if(d.currentNode.nodeType==Node.TEXT_NODE)o=e.push({domId:t.elements,tagname:"text",value:d.currentNode.textContent.trim()});if(d.firstChild()){r=e[o-1].children;w()}if(d.nextSibling()){r=e;w()}else{d.parentNode();return}};e.viewport=h();e.fullpage=s();e.devicePixelRatio=window.devicePixelRatio;w();error=0==e.dom.length;return JSON.stringify(e)}catch(e){void 0;return JSON.stringify({error:true,message:e.message})}})();